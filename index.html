<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WebAR 3D Model with UI</title>
  <!-- ‡πÇ‡∏´‡∏•‡∏î model-viewer -->
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
  <style>
    body {
      margin: 0;
      background: #e0f7e0;
      font-family: sans-serif;
    }
    .viewer-container {
      position: relative;
      width: 100%;
      height: 100vh;
    }
    model-viewer {
      width: 100%;
      height: 100%;
    }
    /* ‡∏õ‡∏∏‡πà‡∏° UI overlay */
    .controls {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 10;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    button {
      padding: 8px 12px;
      border: none;
      border-radius: 8px;
      background: #007bff;
      color: white;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
      transition: 0.2s;
    }
    button:hover {
      background: #0056b3;
    }
        .hotspot-ui {
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 20px;
      border-radius: 10px;
      display: none; /* ‡∏ã‡πà‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô */
      z-index: 10;
    }

    .hotspot-ui button {
      margin-top: 10px;
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      background: #4CAF50;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="viewer-container">
  <!-- ‡πÇ‡∏°‡πÄ‡∏î‡∏• -->
<model-viewer id="viewer"
    src="banana.glb"
    background-color="#d0f7c0"  
    ar
    ar-modes="webxr scene-viewer quick-look"
    auto-rotate
    camera-controls
    exposure="1.2"
    environment-image="neutral"
    shadow-intensity="1">

    <button slot="hotspot-1"
            data-position="0m 4.5m 3.5m"
            data-normal="0m 1m 0m"
            style="background: red; color: white; border-radius: 50%;">
      ‡∏•‡∏≥‡∏ï‡πâ‡∏ô
    </button>

    <!-- Hotspot ‡πÉ‡∏ö‡πÑ‡∏°‡πâ -->
    <button slot="hotspot-2"
            data-position="0m 15m 9m"
            data-normal="0m 1m 0m"
            style="background: green; color: white; border-radius: 50%;">
      ‡πÉ‡∏ö‡πÑ‡∏°‡πâ
    </button>

    <!-- Hotspot ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏π‡πÅ‡∏• -->
    <button slot="hotspot-3"
            data-position="4m 2m 0m"
            data-normal="0m 1m 0m"
            style="background: blue; color: white; border-radius: 50%;">
      ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏π‡πÅ‡∏•
    </button>

</model-viewer>


    <!-- UI Popup -->
  <div id="hotspot-ui" class="hotspot-ui">
    <p id="hotspot-text">‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á Hotspot</p>
    <audio id="hotspot-audio" src="info.mp3"></audio>
    <button id="play-sound">‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
    <button id="close-ui">‚úñ ‡∏õ‡∏¥‡∏î</button>
  </div>

  <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° -->
  <div class="controls">
    <button onclick="playInfo()">‚ñ∂Ô∏è ‡∏ü‡∏±‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
    <button onclick="switchModel()">üîÑ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏•</button>
  </div>
</div>

<!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á -->
<audio id="infoSound" src="info.mp3"></audio>

<script>
  const hotspots = document.querySelectorAll('model-viewer button[slot^="hotspot"]');
  const hotspotUI = document.getElementById('hotspot-ui');
  const hotspotText = document.getElementById('hotspot-text');
  const hotspotAudio = document.getElementById('hotspot-audio');
  const playBtn = document.getElementById('play-sound');
  const closeBtn = document.getElementById('close-ui');

  // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ï‡πà‡∏•‡∏∞ Hotspot
  const hotspotData = {
    "hotspot-1": { text: "‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ", audio: "trunk.mp3" },
    "hotspot-2": { text: "‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡πÉ‡∏ö‡πÑ‡∏°‡πâ", audio: "leaves.mp3" },
    "hotspot-3": { text: "‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏π‡πÅ‡∏•‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ", audio: "care.mp3" },
  };

  hotspots.forEach(btn => {
    btn.addEventListener('click', () => {
      const slot = btn.getAttribute('slot');
      hotspotText.textContent = hotspotData[slot].text;
      hotspotAudio.src = hotspotData[slot].audio;
      hotspotUI.style.display = 'block';
    });
  });

  // ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î UI
  closeBtn.addEventListener('click', () => {
    hotspotUI.style.display = 'none';
    hotspotAudio.pause();
    hotspotAudio.currentTime = 0;
  });

  // ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á
  playBtn.addEventListener('click', () => {
    hotspotAudio.play();
  });

</script>

</body>
</html>
